{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "InkMon Schema",
  "description": "Schema for InkMon creature definition",
  "type": "object",
  "required": ["inkmon"],
  "properties": {
    "inkmon": {
      "type": "object",
      "required": [
        "name",
        "name_en",
        "dex_number",
        "description",
        "elements",
        "stats",
        "design",
        "evolution",
        "ecology",
        "image_prompts"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "中文名称",
          "minLength": 2,
          "maxLength": 4
        },
        "name_en": {
          "type": "string",
          "description": "英文名称",
          "pattern": "^[A-Za-z]+$",
          "maxLength": 12
        },
        "dex_number": {
          "type": "integer",
          "description": "图鉴编号",
          "minimum": 1
        },
        "description": {
          "type": "string",
          "description": "InkMon 描述",
          "maxLength": 200
        },
        "elements": {
          "type": "object",
          "required": ["primary"],
          "properties": {
            "primary": {
              "type": "string",
              "description": "主属性",
              "enum": [
                "fire", "water", "grass", "electric", "ice",
                "rock", "ground", "flying", "bug", "poison",
                "dark", "light", "steel", "dragon"
              ]
            },
            "secondary": {
              "type": ["string", "null"],
              "description": "副属性",
              "enum": [
                "fire", "water", "grass", "electric", "ice",
                "rock", "ground", "flying", "bug", "poison",
                "dark", "light", "steel", "dragon", null
              ]
            }
          }
        },
        "stats": {
          "type": "object",
          "required": ["hp", "attack", "defense", "sp_attack", "sp_defense", "speed", "bst"],
          "properties": {
            "hp": {
              "type": "integer",
              "description": "生命值",
              "minimum": 1,
              "maximum": 255
            },
            "attack": {
              "type": "integer",
              "description": "物理攻击",
              "minimum": 1,
              "maximum": 255
            },
            "defense": {
              "type": "integer",
              "description": "物理防御",
              "minimum": 1,
              "maximum": 255
            },
            "sp_attack": {
              "type": "integer",
              "description": "特殊攻击",
              "minimum": 1,
              "maximum": 255
            },
            "sp_defense": {
              "type": "integer",
              "description": "特殊防御",
              "minimum": 1,
              "maximum": 255
            },
            "speed": {
              "type": "integer",
              "description": "速度",
              "minimum": 1,
              "maximum": 255
            },
            "bst": {
              "type": "integer",
              "description": "种族值总和 (Base Stat Total)",
              "minimum": 100,
              "maximum": 800
            }
          }
        },
        "design": {
          "type": "object",
          "required": ["base_animal", "features", "color_palette", "rarity"],
          "properties": {
            "base_animal": {
              "type": "string",
              "description": "基础动物"
            },
            "features": {
              "type": "array",
              "description": "设计特征",
              "items": {
                "type": "string"
              },
              "minItems": 1
            },
            "color_palette": {
              "type": "array",
              "description": "配色方案 (HEX 颜色)",
              "items": {
                "type": "string",
                "pattern": "^#[0-9A-Fa-f]{6}$"
              },
              "minItems": 1,
              "maxItems": 5
            },
            "rarity": {
              "type": "string",
              "description": "稀有度",
              "enum": ["common", "uncommon", "rare", "legendary"]
            }
          }
        },
        "evolution": {
          "type": "object",
          "required": ["stage", "evolves_from", "evolves_to"],
          "properties": {
            "stage": {
              "type": "string",
              "description": "进化阶段",
              "enum": ["baby", "mature", "adult"]
            },
            "evolves_from": {
              "type": ["string", "null"],
              "description": "进化自 (英文名)"
            },
            "evolves_to": {
              "type": "array",
              "description": "可进化为 (支持多分支)",
              "items": {
                "type": "string"
              }
            },
            "evolution_method": {
              "type": ["string", "null"],
              "description": "进化条件 (从上一阶段进化到本阶段的条件)",
              "examples": [
                "level_16",
                "level_32",
                "item_fire_stone",
                "trade",
                "friendship_high",
                "location_volcano"
              ]
            }
          }
        },
        "ecology": {
          "type": "object",
          "required": ["habitat", "diet", "predators", "prey"],
          "properties": {
            "habitat": {
              "type": "string",
              "description": "栖息地"
            },
            "diet": {
              "type": "string",
              "description": "食性",
              "enum": ["herbivore", "carnivore", "omnivore", "special"]
            },
            "predators": {
              "type": "array",
              "description": "天敌",
              "items": {
                "type": "string"
              }
            },
            "prey": {
              "type": "array",
              "description": "猎物",
              "items": {
                "type": "string"
              }
            },
            "symbiosis": {
              "type": "array",
              "description": "共生关系",
              "items": {
                "type": "string"
              }
            },
            "competition": {
              "type": "array",
              "description": "竞争关系",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "image_prompts": {
          "type": "object",
          "required": ["design"],
          "properties": {
            "design": {
              "type": "string",
              "description": "Design 提示词 (用于 AI 生成主概念图)"
            }
          }
        }
      }
    }
  }
}
